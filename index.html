<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù†Ø¸Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ÙÙ†ÙŠØ© | Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- TODO: Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø±Ø§Ø¨Ø· Ø®Ø· Sakalla Magalaa Ø¹Ù†Ø¯ ØªÙˆÙØ±Ù‡ -->
  <style>
    :root {
      --tilad-navy: #23304a;
      --tilad-teal: #4aa6b5;
      --tilad-green: #7bb89b;
      --tilad-purple: #4a5a88;
      --bg-soft: #f5f6f8;
      --bg-card: #ffffff;
      --text-main: #111827;
      --text-muted: #6b7280;
      --border-soft: #e5e7eb;
      --shadow-soft: 0 18px 35px rgba(15, 23, 42, 0.08);
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-pill: 999px;
      --transition-fast: 0.2s ease;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Sakalla Magalaa", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #e0f2f1, #eef2ff 35%, #f9fafb 70%);
      color: var(--text-main);
      display: flex;
      flex-direction: column;
    }

    /* ====== Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø§Ù… ====== */

    .app-shell {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header.app-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 28px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(15, 23, 42, 0.05);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 14px;
      background: radial-gradient(circle at 30% 30%, var(--tilad-teal), var(--tilad-purple));
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .brand-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .brand-text-main {
      font-size: 1.08rem;
      font-weight: 700;
      color: var(--tilad-navy);
    }

    .brand-text-sub {
      font-size: 0.76rem;
      color: var(--text-muted);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .badge {
      padding: 4px 10px;
      border-radius: var(--radius-pill);
      background: rgba(74, 168, 181, 0.12);
      color: var(--tilad-teal);
      font-size: 0.74rem;
      border: 1px solid rgba(74, 168, 181, 0.3);
    }

    .primary-btn,
    .ghost-btn {
      border-radius: var(--radius-pill);
      padding: 9px 16px;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      border: none;
      outline: none;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), color var(--transition-fast);
    }

    .primary-btn {
      background: linear-gradient(135deg, var(--tilad-navy), var(--tilad-purple));
      color: #ffffff;
      box-shadow: 0 12px 30px rgba(35, 48, 74, 0.35);
    }

    .primary-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 36px rgba(35, 48, 74, 0.45);
    }

    .ghost-btn {
      background: transparent;
      color: var(--tilad-navy);
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .ghost-btn:hover {
      background: rgba(15, 23, 42, 0.03);
    }

    main.app-main {
      flex: 1;
      display: flex;
      justify-content: center;
      padding: 18px;
    }

    .main-inner {
      width: 100%;
      max-width: 1180px;
      display: grid;
      grid-template-columns: minmax(0, 1.9fr) minmax(0, 1.3fr);
      gap: 18px;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .main-inner {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: 18px 18px 20px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 14px;
      gap: 10px;
    }

    .card-title {
      font-size: 1rem;
      font-weight: 700;
      color: var(--tilad-navy);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .card-title span.icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, var(--tilad-teal), var(--tilad-green));
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-size: 0.86rem;
    }

    .card-subtitle {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    /* ====== Ø¹Ø±Ø¶ / Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ ====== */

    .view {
      display: none;
    }

    .view.active {
      display: block;
    }

    /* ====== Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ (Dashboard) ====== */

    .kpis {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 10px;
      margin-bottom: 10px;
    }

    .kpi {
      border-radius: var(--radius-md);
      padding: 10px 11px;
      background: linear-gradient(135deg, #ffffff, #f1f5f9);
      border: 1px solid rgba(148, 163, 184, 0.35);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .kpi-label {
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .kpi-value {
      font-size: 1.05rem;
      font-weight: 700;
      color: var(--tilad-navy);
    }

    .proposal-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 4px;
      font-size: 0.82rem;
    }

    .proposal-table th,
    .proposal-table td {
      padding: 8px 7px;
      border-bottom: 1px solid var(--border-soft);
      text-align: right;
      white-space: nowrap;
    }

    .proposal-table th {
      color: var(--text-muted);
      font-weight: 600;
      background: #f8fafc;
    }

    .proposal-table tr:last-child td {
      border-bottom: none;
    }

    .status-pill {
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 0.72rem;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .status-draft {
      background: rgba(148, 163, 184, 0.16);
      color: #4b5563;
    }

    .status-inprogress {
      background: rgba(250, 204, 21, 0.18);
      color: #854d0e;
    }

    .status-done {
      background: rgba(22, 163, 74, 0.16);
      color: #166534;
    }

    .progress-bar {
      height: 5px;
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      margin-top: 4px;
    }

    .progress-bar-inner {
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--tilad-teal), var(--tilad-purple));
      width: 0;
    }

    /* ====== Ø§Ù„Ù€ Wizard ====== */

    .wizard-steps {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 14px;
      overflow-x: auto;
      padding-bottom: 4px;
    }

    .wizard-step-chip {
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 0.78rem;
      border: 1px solid transparent;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      white-space: nowrap;
      background: #f9fafb;
      color: var(--text-muted);
    }

    .wizard-step-chip span.idx {
      width: 17px;
      height: 17px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.23);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.65rem;
    }

    .wizard-step-chip.active {
      background: radial-gradient(circle at 20% 20%, var(--tilad-teal), var(--tilad-navy));
      color: #ffffff;
      border-color: rgba(15, 23, 42, 0.22);
    }

    .wizard-step-chip.active span.idx {
      background: rgba(15, 23, 42, 0.18);
    }

    .wizard-body {
      border-radius: var(--radius-md);
      border: 1px solid var(--border-soft);
      background: #f9fafb;
      padding: 14px 14px 16px;
      max-height: 430px;
      overflow: auto;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap: 10px;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-bottom: 6px;
    }

    .field label {
      font-size: 0.8rem;
      font-weight: 600;
      color: #374151;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .field small {
      font-size: 0.72rem;
      color: var(--text-muted);
    }

    .field input,
    .field select,
    .field textarea {
      border-radius: 10px;
      border: 1px solid #d1d5db;
      padding: 7px 9px;
      font-size: 0.82rem;
      font-family: inherit;
      outline: none;
      background: #ffffff;
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
    }

    .field textarea {
      min-height: 70px;
      resize: vertical;
    }

    .field input:focus,
    .field select:focus,
    .field textarea:focus {
      border-color: var(--tilad-teal);
      box-shadow: 0 0 0 1px rgba(74, 166, 181, 0.25);
      background: #ffffff;
    }

    .wizard-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 10px;
      gap: 8px;
    }

    .wizard-footer-left {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .secondary-btn {
      border-radius: var(--radius-pill);
      padding: 7px 13px;
      font-size: 0.82rem;
      border: 1px solid #d1d5db;
      background: #ffffff;
      cursor: pointer;
    }

    .secondary-btn:disabled {
      opacity: 0.5;
      cursor: default;
    }

    /* ====== ØºÙ„Ø§Ù Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ (Cover) ====== */

    .cover-card {
      margin-top: 6px;
    }

    .cover-preview {
      border-radius: var(--radius-md);
      border: 1px dashed rgba(148, 163, 184, 0.7);
      padding: 12px;
      background: linear-gradient(135deg, #f9fafb, #eef2ff);
      max-height: 430px;
      overflow: auto;
    }

    .cover-a4 {
      width: 100%;
      max-width: 620px;
      aspect-ratio: 1 / 1.414; /* ØªÙ‚Ø±ÙŠØ¨ A4 */
      background: #ffffff;
      margin-inline: auto;
      border-radius: 12px;
      box-shadow: 0 15px 40px rgba(15, 23, 42, 0.12);
      padding: 26px 26px 20px;
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .cover-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    .cover-logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .cover-logo-mark {
      width: 52px;
      height: 52px;
      border-radius: 18px;
      overflow: hidden;
      background: radial-gradient(circle at 25% 25%, var(--tilad-teal), var(--tilad-purple));
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .cover-logo-mark img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .cover-logo-text-main {
      font-weight: 800;
      font-size: 1rem;
      color: var(--tilad-navy);
    }

    .cover-logo-text-sub {
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .cover-ribbon {
      padding: 5px 9px;
      border-radius: var(--radius-pill);
      background: rgba(74, 166, 181, 0.08);
      border: 1px solid rgba(74, 166, 181, 0.3);
      font-size: 0.74rem;
      color: var(--tilad-teal);
    }

    .cover-body {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 12px;
      padding-inline: 10px;
    }

    .cover-project-title {
      font-size: 1.2rem;
      font-weight: 800;
      color: var(--tilad-navy);
      line-height: 1.5;
    }

    .cover-client {
      font-size: 0.9rem;
      color: #4b5563;
    }

    .cover-meta {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 6px 16px;
      margin-top: 6px;
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .cover-meta span.label {
      font-weight: 600;
      color: #374151;
    }

    .cover-footer {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      font-size: 0.76rem;
      color: var(--text-muted);
      margin-top: 8px;
    }

    .cover-footer-right {
      text-align: left;
    }

    .cover-accent-shape {
      position: absolute;
      inset-inline-end: 0;
      inset-block-end: 0;
      width: 45%;
      height: 32%;
      background: radial-gradient(circle at 0 0, rgba(148, 163, 184, 0.1), transparent 60%),
                  radial-gradient(circle at 100% 100%, rgba(74, 90, 136, 0.14), transparent 65%);
      border-bottom-right-radius: inherit;
      border-top-left-radius: 36px;
      pointer-events: none;
    }

    footer.app-footer {
      padding: 10px 20px 14px;
      font-size: 0.72rem;
      color: var(--text-muted);
      text-align: center;
    }
    /* ØªÙƒØ¨ÙŠØ± Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„ÙÙ†ÙŠ ÙÙ‚Ø· */
.wizard-card {
  max-width: 920px;
  margin-inline: auto;
}

/* ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ù†Ø±Ø¬Ø¹ Ù„Ù„Ø­Ø¬Ù… Ø§Ù„Ø¹Ø§Ø¯ÙŠ */
@media (max-width: 900px) {
  .wizard-card {
    max-width: 100%;
  }
}

  </style>
</head>
<body>
  <div class="app-shell">
    <!-- ====== Ø§Ù„Ù‡ÙŠØ¯Ø± ====== -->
    <header class="app-header">
      <div class="brand">
        <div class="brand-logo">
          <!-- Ø¶Ø¹ Ù…Ø³Ø§Ø± Ø´Ø¹Ø§Ø± Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø© Ù‡Ù†Ø§ -->
          <!-- <img src="tilad-logo.png" alt="Tilad Integrated Solutions Logo" /> -->
        </div>
        <div class="brand-text">
          <div class="brand-text-main">Ù†Ø¸Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ÙÙ†ÙŠØ©</div>
          <div class="brand-text-sub">Ø´Ø±ÙƒØ© Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø© | Tilad Integrated Solutions Company</div>
          <div class="brand-text-sub">
            ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ±: Ø¯. Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø³Ø±Ø³Ùƒ
        </div>
      </div>

      <div class="header-actions">
        <span class="badge">Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© v0.1 â€“ Ø¹Ø±Ø¶ ÙÙ†ÙŠ ÙÙ‚Ø·</span>
        <button class="primary-btn" type="button" onclick="showView('wizard')">
  Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ
        </button>
        <button class="primary-btn" type="button" onclick="startNewProposal()">
          + Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ ÙÙ†ÙŠ Ø¬Ø¯ÙŠØ¯
        </button>
      </div>
    </header>

    <!-- ====== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ====== -->
    <main class="app-main">
      <div class="main-inner">

        <!-- ====== Ø¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ (Dashboard) ====== -->
        <section id="dashboardView" class="view">
          <!--
          <div class="card">
            </div>
            -->
            <div class="card-header">
              <div>
                <div class="card-title">
                  <span class="icon">ğŸ¯</span>
                  Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø±ÙˆØ¶
                </div>
                <div class="card-subtitle">
                  Ù‡Ø°Ù‡ Ø§Ù„Ù„ÙˆØ­Ø© ØªØ¹Ø±Ø¶ Ù…Ù„Ø®ØµÙ‹Ø§ Ø³Ø±ÙŠØ¹Ù‹Ø§ Ù„Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ÙÙ†ÙŠØ© Ø§Ù„Ø¬Ø§Ø±ÙŠØ© ÙÙŠ Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©.
                </div>
              </div>
              <button class="primary-btn" type="button" onclick="startNewProposal()">
                + Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯
              </button>
            </div>

            <div class="kpis">
              <div class="kpi">
                <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ø±ÙˆØ¶</div>
                <div class="kpi-value" id="kpiTotal">â€”</div>
              </div>
              <div class="kpi">
                <div class="kpi-label">Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯</div>
                <div class="kpi-value" id="kpiDraft">â€”</div>
              </div>
              <div class="kpi">
                <div class="kpi-label">Ù…ÙƒØªÙ…Ù„Ø© ÙÙ†ÙŠÙ‹Ø§</div>
                <div class="kpi-value" id="kpiCompleted">â€”</div>
              </div>
              <div class="kpi">
                <div class="kpi-label">Ù…ØªÙˆØ³Ø· Ù†Ø³Ø¨Ø© Ø§Ù„Ø§ÙƒØªÙ…Ø§Ù„</div>
                <div class="kpi-value" id="kpiAvgProgress">â€”%</div>
              </div>
            </div>

            <table class="proposal-table">
              <thead>
                <tr>
                  <th>Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©</th>
                  <th>Ø§Ù„Ø¬Ù‡Ø©</th>
                  <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØºÙ„Ø§Ù‚</th>
                  <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                  <th>Ø§Ù„Ù†Ø³Ø¨Ø©</th>
                </tr>
              </thead>
              <tbody id="proposalTableBody">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§Ø­Ù‚Ù‹Ø§ Ù…Ù† Google Sheet -->
                <tr>
                  <td>Ù…Ø«Ø§Ù„ ØªØ¬Ø±ÙŠØ¨ÙŠ: Ù…Ø´Ø±ÙˆØ¹ Ø±ØµØ¯ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙØ·Ø±ÙŠØ©</td>
                  <td>Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙØ·Ø±ÙŠØ©</td>
                  <td>2025-12-31</td>
                  <td>
                    <span class="status-pill status-inprogress">Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯</span>
                  </td>
                  <td>
                    <div class="progress-bar">
                      <div class="progress-bar-inner" style="width: 42%;"></div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>Ù…Ø«Ø§Ù„ ØªØ¬Ø±ÙŠØ¨ÙŠ: Ù…Ø´Ø±ÙˆØ¹ ØªØ­Ø³ÙŠÙ† Ø§Ù„ØºØ·Ø§Ø¡ Ø§Ù„Ù†Ø¨Ø§ØªÙŠ ÙÙŠ Ø§Ù„Ù…Ø±Ø§Ø¹ÙŠ</td>
                  <td>ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ù…ÙŠØ§Ù‡ ÙˆØ§Ù„Ø²Ø±Ø§Ø¹Ø©</td>
                  <td>2025-11-10</td>
                  <td>
                    <span class="status-pill status-draft">Ù…Ø³ÙˆØ¯Ø© Ø£ÙˆÙ„ÙŠØ©</span>
                  </td>
                  <td>
                    <div class="progress-bar">
                      <div class="progress-bar-inner" style="width: 18%;"></div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØºÙ„Ø§Ù ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù„Ø¹Ø±Ø¶ Ù…Ø«Ø§Ù„ Ø³Ø±ÙŠØ¹ -->
          <div class="card cover-card">
            <div class="card-header">
              <div>
                <div class="card-title">
                  <span class="icon">ğŸ“„</span>
                  Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„ÙÙ†ÙŠ
                </div>
                <div class="card-subtitle">
                  Ù‡Ø°Ø§ Ù†Ù…ÙˆØ°Ø¬ Ù…Ø¨Ø¯Ø¦ÙŠ Ù„ØºÙ„Ø§Ù Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©.
                </div>
              </div>
            </div>
            <div class="cover-preview">
              <div class="cover-a4">
                <div class="cover-header">
                  <div class="cover-logo">
                    <div class="cover-logo-mark"></div>
                    <div>
                      <div class="cover-logo-text-main">Ø´Ø±ÙƒØ© Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</div>
                      <div class="cover-logo-text-sub">Tilad Integrated Solutions Company</div>
                    </div>
                  </div>
                  <div class="cover-ribbon">Ø¹Ø±Ø¶ ÙÙ†ÙŠ â€“ Ù†Ù…ÙˆØ°Ø¬ ØªØ¬Ø±ÙŠØ¨ÙŠ</div>
                </div>

                <div class="cover-body">
                  <div class="cover-project-title" id="coverProjectTitle">
                    Ù…Ø´Ø±ÙˆØ¹ Ø±ØµØ¯ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙØ·Ø±ÙŠØ© ÙÙŠ Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ø¹ÙÙ„Ø§
                  </div>
                  <div class="cover-client" id="coverClient">
                    Ù…Ù‚Ø¯Ù… Ø¥Ù„Ù‰: <strong>Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙØ·Ø±ÙŠØ©</strong>
                  </div>
                  <div class="cover-meta">
                    <div>
                      <span class="label">Ø±Ù‚Ù… Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©:</span><br />
                      <span id="coverRef">24-ENV-WL-001</span>
                    </div>
                    <div>
                      <span class="label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØºÙ„Ø§Ù‚:</span><br />
                      <span id="coverClosing">2025-12-31</span>
                    </div>
                    <div>
                      <span class="label">Ù…Ø¯Ø© Ø§Ù„Ø¹Ù‚Ø¯:</span><br />
                      <span id="coverDuration">24 Ø´Ù‡Ø±Ù‹Ø§</span>
                    </div>
                    <div>
                      <span class="label">Ù…Ù†ØµØ© Ø§Ù„Ø·Ø±Ø­:</span><br />
                      <span id="coverPlatform">Ù…Ù†ØµØ© Ø§Ø¹ØªÙ…Ø§Ø¯</span>
                    </div>
                  </div>
                </div>

                <div class="cover-footer">
                  <div>
                    <div>Ø¥Ø¹Ø¯Ø§Ø¯:</div>
                    <div><strong>Ø¥Ø¯Ø§Ø±Ø© ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³Ø§Øª</strong></div>
                    <div>Ø´Ø±ÙƒØ© Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</div>
                     <div>Ø¨Ø¥Ø´Ø±Ø§Ù: Ø¯. Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø³Ø±Ø³Ùƒ</div>
                  </div>
                  <div class="cover-footer-right">
                    <div>Ø§Ù„Ø±ÙŠØ§Ø¶ â€“ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</div>
                    <div>Ù‡Ø§ØªÙ: â€” | Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: â€”</div>
                  </div>
                </div>

                <div class="cover-accent-shape"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- ====== Ø§Ù„Ù€ Wizard (Ø¥Ù†Ø´Ø§Ø¡ / ØªØ¹Ø¯ÙŠÙ„ Ø¹Ø±Ø¶) ====== -->
        <section id="wizardView" class="view active">
          <div class="card wizard-card">
            <div class="card-header">
              <div>
                <div class="card-title">
                  <span class="icon">ğŸ§©</span>
                  Ù…Ø¹Ø§Ù„Ø¬ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ
                </div>
                <div class="card-subtitle">
                  Ø§ØªØ¨Ø¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø£Ø¯Ù†Ø§Ù‡ Ù„Ù…Ù„Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ ÙˆÙÙ‚ Ù†Ù…ÙˆØ°Ø¬ Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©.
                </div>
              </div>
            </div>

            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø®Ø·ÙˆØ§Øª -->
            <div class="wizard-steps">
              <button class="wizard-step-chip active" data-step="1" onclick="goToStep(1)">
                <span class="idx">1</span> Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©
              </button>
              <button class="wizard-step-chip" data-step="2" onclick="goToStep(2)">
                <span class="idx">2</span> Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ø¹Ø§Ù…
              </button>
              <button class="wizard-step-chip" data-step="3" onclick="goToStep(3)">
                <span class="idx">3</span> Ø§Ù„Ù…Ø±Ø§Ø­Ù„ ÙˆØ¢Ù„ÙŠØ© Ø§Ù„ØªÙ†ÙÙŠØ°
              </button>
              <button class="wizard-step-chip" data-step="4" onclick="goToStep(4)">
                <span class="idx">4</span> Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
              </button>
              <button class="wizard-step-chip" data-step="5" onclick="goToStep(5)">
                <span class="idx">5</span> ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„
              </button>
              <button class="wizard-step-chip" data-step="6" onclick="goToStep(6)">
                <span class="idx">6</span> Ø®Ø·Ø© Ø§Ù„Ø³Ù„Ø§Ù…Ø©
              </button>
              <button class="wizard-step-chip" data-step="7" onclick="goToStep(7)">
                <span class="idx">7</span> ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø´Ø±ÙƒØ©
              </button>
              <button class="wizard-step-chip" data-step="8" onclick="goToStep(8)">
                <span class="idx">8</span> Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„ØªØµØ¯ÙŠØ±
              </button>
            </div>

            <!-- Ø¬Ø³Ù… Ø§Ù„Ù€ Wizard -->
            <div class="wizard-body">

              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1 -->
              <div class="wizard-step-panel" data-step-panel="1">
                <div class="form-grid">
                  <div class="field">
                    <label for="pTitle">
                      Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©
                    </label>
                    <input id="pTitle" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø´Ø±ÙˆØ¹ Ø±ØµØ¯ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙØ·Ø±ÙŠØ© ÙÙŠ ..." />
                    <small>Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… ÙƒÙ…Ø§ Ù‡Ùˆ ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ù…Ù†Ø§ÙØ³Ø© (Ø§Ø¹ØªÙ…Ø§Ø¯ / Ù†Ø§ÙØ³).</small>
                  </div>

                  <div class="field">
                    <label for="pClient">Ø§Ù„Ø¬Ù‡Ø© ØµØ§Ø­Ø¨Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</label>
                    <input id="pClient" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙØ·Ø±ÙŠØ©" />
                    <small>ÙŠÙ…ÙƒÙ† Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¬Ø¹Ù„Ù‡Ø§ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© Ø¨Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©.</small>
                  </div>

                  <div class="field">
                    <label for="pRef">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ Ù„Ù„Ù…Ù†Ø§ÙØ³Ø©</label>
                    <input id="pRef" type="text" placeholder="251139006695" />
                    <small>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø±Ø³Ù…ÙŠ ÙƒÙ…Ø§ ÙŠØ¸Ù‡Ø± ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø·Ø±Ø­.</small>
                  </div>

                  <div class="field">
                    <label for="pPlatform">Ù…Ù†ØµØ© Ø§Ù„Ø·Ø±Ø­</label>
                    <select id="pPlatform">
                      <option value="">Ø§Ø®ØªØ±</option>
                      <option value="Ø§Ø¹ØªÙ…Ø§Ø¯">Ù…Ù†ØµØ© Ø§Ø¹ØªÙ…Ø§Ø¯</option>
                      <option value="Ø³Ø§Ø¨ Ø£Ø±ÙŠØ¨Ø§">Ù…Ù†ØµØ© Ø³Ø§Ø¨ Ø£Ø±ÙŠØ¨Ø§</option>
                      <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                    </select>
                    <small>Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø§Ù„ØºÙ„Ø§Ù ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±.</small>
                  </div>

                  <div class="field">
                    <label for="pClosing">ØªØ§Ø±ÙŠØ® Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©</label>
                    <input id="pClosing" type="date" />
                  </div>

                  <div class="field">
                    <label for="pDuration">Ù…Ø¯Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Ø¨Ø§Ù„Ø£Ø´Ù‡Ø±)</label>
                    <input id="pDuration" type="number" min="1" step="1" placeholder="Ù…Ø«Ø§Ù„: 24" />
                    <small>Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¯Ø© Ø³ØªØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¬Ø§Ù†Øª Ù„Ø§Ø­Ù‚Ù‹Ø§.</small>
                  </div>

                  <div class="field">
                    <label for="pLocation">Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙ†ÙÙŠØ°</label>
                    <input id="pLocation" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹ÙÙ„Ø§ â€“ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©" />
                  </div>

                  <div class="field">
                    <label for="pOwner">Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø´Ø±ÙƒØ©</label>
                    <input id="pOwner" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø¯. Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø³Ø±Ø³Ùƒ" />
                    <small>ÙŠÙ…ÙƒÙ† Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†.</small>
                  </div>
                </div>

                <div class="field">
                  <label for="pSummaryShort">ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„Ù…Ù†Ø§ÙØ³Ø©</label>
                  <textarea id="pSummaryShort" placeholder="Ø§ÙƒØªØ¨ ÙÙŠ Ø³Ø·Ø±ÙŠÙ† Ø¥Ù„Ù‰ Ø£Ø±Ø¨Ø¹Ø© Ø£Ø³Ø·Ø± Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹."></textarea>
                </div>
              </div>

              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2 -->
              <div class="wizard-step-panel" data-step-panel="2" style="display:none;">
                <div class="field">
                  <label for="pIntro">Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</label>
                  <textarea id="pIntro" placeholder="Ù…Ù‚Ø¯Ù…Ø© Ø¹Ø§Ù…Ø© Ø¹Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ Ø®Ù„ÙÙŠØªÙ‡ØŒ ÙˆØ£Ù‡Ù…ÙŠØªÙ‡ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©."></textarea>
                  <small>ÙŠÙ…ÙƒÙ† Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø±Ø¨Ø· Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ø¨Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø© Ù…Ù† Content_Templates.</small>
                </div>

                <div class="field">
                  <label for="pUnderstanding">Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ø§Ù… Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø¹Ù…Ù„</label>
                  <textarea id="pUnderstanding" placeholder="Ù„Ø®Ù‘Øµ ÙÙ‡Ù… ØªÙ„Ø§Ø¯ Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ ÙˆÙ…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³Ø©."></textarea>
                </div>

                <div class="field">
                  <label for="pObjectives">Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</label>
                  <textarea id="pObjectives" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù†Ù‚Ø§Ø·:&#10;- Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„...&#10;- Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ..."></textarea>
                </div>

                <div class="field">
                  <label for="pAssumptions">Ø§Ù„Ø§ÙØªØ±Ø§Ø¶Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³Ø©</label>
                  <textarea id="pAssumptions" placeholder="Ø§Ø°ÙƒØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶Ø§Øª Ø§Ù„ØªÙŠ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø¹Ø±Ø¶ (ØªØ´ØºÙŠÙ„ÙŠØ© / ØªÙ†Ø¸ÙŠÙ…ÙŠØ© / Ù„ÙˆØ¬Ø³ØªÙŠØ©)."></textarea>
                </div>

                <div class="field">
                  <label for="pExecSummary">Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹</label>
                  <textarea id="pExecSummary" placeholder="Ø®Ù„Ø§ØµØ© Ù…Ø±ÙƒÙ‘Ø²Ø© ØªØ¯Ù…Ø¬ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ© ÙˆØ§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø§Ù„ØªÙŠ Ø³ØªÙ‚Ø¯Ù…Ù‡Ø§ ØªÙ„Ø§Ø¯."></textarea>
                </div>
              </div>

              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 3 -->
              <div class="wizard-step-panel" data-step-panel="3" style="display:none;">
                <p style="font-size:0.82rem; color:var(--text-muted); margin-top:0; margin-bottom:8px;">
                  Ù‚Ù… Ø¨ØªØ¹Ø±ÙŠÙ Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³Ø©Ø› Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ù„Ø§Ø­Ù‚Ù‹Ø§ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ (Gantt) ÙˆØ±Ø¨Ø·Ù‡Ø§ Ø¨Ø¨Ù†ÙˆØ¯ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙƒÙ…ÙŠØ§Øª.
                </p>

                <div class="field">
                  <button type="button" class="secondary-btn" onclick="addPhaseRow()">
                    + Ø¥Ø¶Ø§ÙØ© Ù…Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
                  </button>
                </div>

                <div style="overflow:auto;">
                  <table class="proposal-table" id="phasesTable">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø­Ù„Ø©</th>
                        <th>ÙˆØµÙ Ù…Ø®ØªØµØ±</th>
                        <th>Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ø±Ø­Ù„Ø©</th>
                        <th>Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø±Ø­Ù„Ø©</th>
                        <th>Ø­Ø°Ù</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- ØµÙ ØªØ¬Ø±ÙŠØ¨ÙŠ ÙƒØ¨Ø¯Ø§ÙŠØ© -->
                      <tr>
                        <td>1</td>
                        <td><input type="text" value="Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ± ÙˆØ§Ù„Ø§Ù†Ø·Ù„Ø§Ù‚" /></td>
                        <td><input type="text" value="ØªØ¬Ù‡ÙŠØ² Ø§Ù„ÙØ±ÙŠÙ‚ØŒ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ°ØŒ ÙˆØ§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ." /></td>
                        <td><input type="date" /></td>
                        <td><input type="date" /></td>
                        <td><button type="button" class="secondary-btn" onclick="deletePhaseRow(this)">âœ•</button></td>
                      </tr>
                    </tbody>
                  </table>
                  <div style="margin-top:12px;">
                  <button type="button" class="secondary-btn" onclick="generateGanttFromPhases()">
                    ğŸ“Š Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø®Ø·Ø· Gantt Ù…Ù† Ø§Ù„Ù…Ø±Ø§Ø­Ù„
                  </button>
                </div>
                  <hr style="margin:14px 0; border:none; border-top:1px solid #e5e7eb;" />

                  <div class="field">
                    <label for="knowledgeTransfer">Ø¢Ù„ÙŠØ© Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ©</label>
                    <textarea id="knowledgeTransfer"
                      placeholder="Ø§Ø´Ø±Ø­ ÙƒÙŠÙ Ø³ÙŠØªÙ… Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯Ø©: ØªÙˆØ«ÙŠÙ‚ØŒ ÙˆØ±Ø´ Ø¹Ù…Ù„ØŒ ØªØ¯Ø±ÙŠØ¨ØŒ Ø£Ø¯Ù„Ø© ØªØ´ØºÙŠÙ„ØŒ Ø¬Ù„Ø³Ø§Øª ØªØ³Ù„ÙŠÙ…..."></textarea>
                  </div>

                  <div class="field">
                    <label for="qualityPlan">Ø®Ø·Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</label>
                    <textarea id="qualityPlan"
                      placeholder="Ø§Ø´Ø±Ø­ ÙƒÙŠÙ Ø³ÙŠØªÙ… Ø¶Ù…Ø§Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„: Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø¯ÙˆØ±ÙŠØ©ØŒ Ù†Ù‚Ø§Ø· ÙØ­ØµØŒ Ù…Ø¹Ø§ÙŠÙŠØ± Ù‚ÙŠØ§Ø³ØŒ Ù†Ù…Ø§Ø°Ø¬ ØªØ¯Ù‚ÙŠÙ‚ØŒ Ù…Ø³Ø¤ÙˆÙ„ Ø¬ÙˆØ¯Ø© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹..."></textarea>
                  </div>

                  <div class="field">
                    <label for="riskManagement">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø± (ØºÙŠØ± Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø³Ù„Ø§Ù…Ø©)</label>
                    <textarea id="riskManagement"
                      placeholder="Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø±Ø¦ÙŠØ³Ø© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ (Ø§Ù„ØªØ£Ø®ÙŠØ±ØŒ ØªÙˆÙØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª...) ÙˆØ¢Ù„ÙŠØ© Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§: ØªØ¬Ù†Ø¨ØŒ ØªØ®ÙÙŠÙØŒ Ù†Ù‚Ù„ØŒ Ù‚Ø¨ÙˆÙ„."></textarea>
                  </div>

                <div id="ganttContainer" style="margin-top:10px; border-radius:12px; border:1px solid #e5e7eb; background:white; padding:10px; max-height:260px; overflow:auto;">
                  <p style="font-size:0.78rem; color:#6b7280; margin:0;">
                    Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…Ø®Ø·Ø· Ø²Ù…Ù†ÙŠ Ù…Ø¨Ø³Ø· Ù„Ù„Ù…Ø±Ø§Ø­Ù„ Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ©.
                  </p>
                </div>

                </div>

                <p style="font-size:0.8rem; color:var(--text-muted); margin-top:10px;">
                  <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù…Ø®Ø·Ø· Gantt ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø§Ø¹ØªÙ…Ø§Ø¯Ù‹Ø§ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®.
                </p>
              </div>
              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 4 -->
              <div class="wizard-step-panel" data-step-panel="4" style="display:none;">

                <p style="font-size:0.82rem; color:var(--text-muted); margin-top:0; margin-bottom:10px;">
                  Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¥Ø±ÙØ§Ù‚Ù‡Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ.  
                  Ø³ÙŠØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ù† ÙˆØ±Ù‚Ø© <strong>Experience_Projects</strong> ÙÙŠ Google Sheet.
                </p>

                <button type="button" class="secondary-btn" onclick="loadExperienceProjects()">
                  ğŸ”„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ù…Ù† Google Sheet
                </button>

                <div id="expProjectsContainer" style="margin-top:14px;">
                  <p style="color:#6b7280; font-size:0.8rem;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¹Ù„Ø§Ù‡ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹.</p>
                </div>

              </div>
              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 5 -->
              <div class="wizard-step-panel" data-step-panel="5" style="display:none;">

                <p style="font-size:0.82rem; color:var(--text-muted); margin-top:0; margin-bottom:10px;">
                  Ø§Ø®ØªØ± Ø£Ø¹Ø¶Ø§Ø¡ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø°ÙŠÙ† Ø³ÙŠØ´Ø§Ø±ÙƒÙˆÙ† ÙÙŠ ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.
                </p>

                <button type="button" class="secondary-btn" onclick="loadTeamMembers()">
                  ğŸ‘¥ ØªØ­Ù…ÙŠÙ„ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ù…Ù† Google Sheet
                </button>
                <div class="field" style="margin-top:10px;">
                <label for="cvUpload">Ø±ÙØ¹ CV Ø¥Ø¶Ø§ÙÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <input id="cvUpload" type="file" />
                <small>Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ø¹Ù†Ø¯ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¶ØŒ Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ø§ ØªÙØ±ÙØ¹ Ù„Ù„Ø³Ø­Ø§Ø¨Ø© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø®Ø©.</small>
              </div>

                <div id="teamMembersContainer" style="margin-top:14px;">
                  <p style="color:#6b7280; font-size:0.8rem;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„Ø¹Ø±Ø¶ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚.</p>
                </div>

              </div>
              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 6 -->
              <div class="wizard-step-panel" data-step-panel="6" style="display:none;">

                <p style="font-size:0.82rem; color:var(--text-muted); margin-top:0; margin-bottom:10px;">
                  Ø£Ø¯Ø®Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø®Ø·Ø© Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„ØµØ­Ø© Ø§Ù„Ù…Ù‡Ù†ÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.  
                  Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… ÙŠØªÙ… ØªØ¶Ù…ÙŠÙ†Ù‡ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ.
                </p>

                <div class="field">
                  <label>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ø´Ø±ÙƒØ© Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</label>
                  <textarea id="hsePolicy" placeholder="Ø§ÙƒØªØ¨ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø´Ø±ÙƒØ© Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹"></textarea>
                </div>

                <div class="field">
                  <label>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø±</label>
                  <textarea id="hseRisk" placeholder="Ø§Ø´Ø±Ø­ ÙƒÙŠÙÙŠØ© ØªØ­Ø¯ÙŠØ¯ØŒ ØªÙ‚ÙŠÙŠÙ…ØŒ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©."></textarea>
                </div>

                <div class="field">
                  <label>Ø®Ø·Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</label>
                  <textarea id="hsePlan" placeholder="Ø§Ù„Ø¥Ø®Ù„Ø§Ø¡ â€“ Ø§Ù„ØªÙˆØ§ØµÙ„ â€“ Ø§Ù„Ø¥Ø³Ø¹Ø§ÙØ§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ© â€“ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø­ÙˆØ§Ø¯Ø«"></textarea>
                </div>

                <div class="field">
                  <label>Ø£Ø¯ÙˆØ§Ø± ÙˆÙ…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©</label>
                  <textarea id="hseRoles" placeholder="Ù…Ù† Ù‡Ùˆ Ù…Ø³Ø¤ÙˆÙ„ HSEØŸ Ù…Ø§ Ù‡ÙŠ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª ÙƒÙ„ Ø¹Ø¶ÙˆØŸ"></textarea>
                </div>

              </div>
              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 7 -->
              <div class="wizard-step-panel" data-step-panel="7" style="display:none;">

                <p style="font-size:0.82rem; color:var(--text-muted); margin-top:0; margin-bottom:12px;">
                  Ø£Ø±ÙÙ‚ Ø£Ùˆ Ø§Ø®ØªØ± Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… ØªØ¶Ù…ÙŠÙ†Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ.
                  Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ ØªØ£ØªÙŠ Ù…Ù† Ø§Ù„ÙˆØ±Ù‚Ø© <strong>Company_Docs</strong> ÙÙŠ Google Sheet.
                </p>

                <button type="button" class="secondary-btn" onclick="loadCompanyDocs()">
                  ğŸ“„ ØªØ­Ù…ÙŠÙ„ ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø´Ø±ÙƒØ© Ù…Ù† Google Sheet
                </button>
                <div class="field" style="margin-top:10px;">
                <label for="docUpload">Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø¯Ø§Ø®Ù„ÙŠ ÙÙ‚Ø·)</label>
                <input id="docUpload" type="file" multiple />
                <small>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„ÙØ§Øª Ù…Ù† Ø¬Ù‡Ø§Ø²ÙƒØ› Ø³ØªØ¸Ù‡Ø± Ø£Ø³Ù…Ø§Ø¤Ù‡Ø§ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ (Ù„Ù† ØªÙØ±ÙØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø­Ø§Ø¨Ø© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø®Ø©).</small>
              </div>

<ul id="localDocsList" style="margin-top:8px; font-size:0.78rem; color:#4b5563; padding-right:16px;"></ul>

                <div id="docsContainer" style="margin-top:14px;">
                  <p style="color:#6b7280; font-size:0.8rem;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚.</p>
                </div>

              </div>
              <!-- Ø§Ù„Ø®Ø·ÙˆØ© 8 -->
              <div class="wizard-step-panel" data-step-panel="8" style="display:none;">

                <p style="font-size:0.84rem; color:var(--text-muted); margin-top:0; margin-bottom:12px;">
                  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªØµØ¯ÙŠØ±.
                  Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØµØ¯ÙŠØ± PDF ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± Ø±Ø§Ø¨Ø·.
                </p>

                <div id="reviewBox" style="
                  background:white;
                  border:1px solid #d1d5db;
                  border-radius:12px;
                  padding:14px;
                  max-height:330px;
                  overflow:auto;
                  font-size:0.84rem;
                ">
                  <p style="color:#6b7280;">Ù‡Ù†Ø§ Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¹Ø±Ø¶ ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¨Ø´ÙƒÙ„ Ù…Ù†Ø³Ù‘Ù‚.</p>
                </div>

                <button class="primary-btn" style="margin-top:12px;" onclick="generatePreview()">
                  ğŸ” Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¹Ø±Ø¶
                </button>

                <button class="secondary-btn" style="margin-top:8px;" onclick="exportProposalPDF()">
               ğŸ“„ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ PDF
                </button>


              </div>

              <!-- Ø§Ù„Ø®Ø·ÙˆØ§Øª 4â€“8 Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¨Ø§Ù„ØªÙØµÙŠÙ„ -->
            </div>

            <div class="wizard-footer">
              <div class="wizard-footer-left">
                <span id="wizardStepLabel">Ø§Ù„Ø®Ø·ÙˆØ© 1 Ù…Ù† 3 (Ù…Ø±Ø­Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©)</span>
              </div>
              <div>
                <button class="secondary-btn" type="button" id="prevBtn" onclick="prevStep()" disabled>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="primary-btn" type="button" id="nextBtn" onclick="nextStep()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
              </div>
            </div>
          </div>
        </section>

      </div>
    </main>

    <footer class="app-footer">
      Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø¨Ø§Ø¯Ø±Ø© ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙÙŠ Ø´Ø±ÙƒØ© Ø­Ù„ÙˆÙ„ ØªÙ„Ø§Ø¯ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø© â€“ Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØµÙ…ÙŠÙ…: Ø¯. Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø³Ø±Ø³Ùƒ Ø¨Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.
    </footer>
  </div>

  <script>
    // Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Wizard
    let currentStep = 1;
    const maxStepExperimental = 8; // Ø­Ø§Ù„ÙŠØ§Ù‹ Ù†Ø³ØªØ®Ø¯Ù… 3 Ø®Ø·ÙˆØ§Øª ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
    // Ø±Ø¨Ø· Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø§Ù„ØºÙ„Ø§Ù Ù…Ø¨Ø§Ø´Ø±Ø©
    document.addEventListener("DOMContentLoaded", () => {
      const titleInput = document.getElementById("pTitle");
      const clientInput = document.getElementById("pClient");
      const refInput = document.getElementById("pRef");
      const closingInput = document.getElementById("pClosing");
      const durationInput = document.getElementById("pDuration");
      const platformSelect = document.getElementById("pPlatform");

      function updateCover() {
        if (titleInput) document.getElementById("coverProjectTitle").textContent = titleInput.value || "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹";
        if (clientInput) document.getElementById("coverClient").innerHTML =
          `Ù…Ù‚Ø¯Ù… Ø¥Ù„Ù‰: <strong>${clientInput.value || "Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø©"}</strong>`;
        if (refInput) document.getElementById("coverRef").textContent = refInput.value || "â€”";
        if (closingInput) document.getElementById("coverClosing").textContent = closingInput.value || "â€”";
        if (durationInput) document.getElementById("coverDuration").textContent =
          (durationInput.value ? durationInput.value + " Ø´Ù‡Ø±Ù‹Ø§" : "â€”");
        if (platformSelect) document.getElementById("coverPlatform").textContent =
          platformSelect.value || "â€”";
      }

      [titleInput, clientInput, refInput, closingInput, durationInput, platformSelect].forEach(el => {
        if (el) el.addEventListener("input", updateCover);
        if (el && el.tagName === "SELECT") el.addEventListener("change", updateCover);
      });

      updateCover(); // ØªØ´ØºÙŠÙ„ Ù…Ø¨Ø¯Ø¦ÙŠ
    });


    function showView(view) {
      document.getElementById('dashboardView').classList.remove('active');
      document.getElementById('wizardView').classList.remove('active');

      if (view === 'dashboard') {
        document.getElementById('dashboardView').classList.add('active');
      } else if (view === 'wizard') {
        document.getElementById('wizardView').classList.add('active');
      }
    }

    function startNewProposal() {
      // ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„: Ù‡Ù†Ø§ Ù†Ø±Ø¨Ø· Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØµÙ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Google Sheet (Proposals)
      showView('wizard');
      goToStep(1);
    }

    function goToStep(step) {
      if (step < 1 || step > maxStepExperimental) return;
      currentStep = step;

      // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­
      document.querySelectorAll('.wizard-step-panel').forEach(panel => {
        const s = Number(panel.getAttribute('data-step-panel'));
        panel.style.display = (s === step) ? 'block' : 'none';
      });

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ·
      document.querySelectorAll('.wizard-step-chip').forEach(chip => {
        const s = Number(chip.getAttribute('data-step'));
        chip.classList.toggle('active', s === step);
      });

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ / Ø§Ù„Ø³Ø§Ø¨Ù‚
      document.getElementById('prevBtn').disabled = (step === 1);
      document.getElementById('nextBtn').textContent = (step === maxStepExperimental) ? 'Ø­ÙØ¸ (Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©)' : 'Ø§Ù„ØªØ§Ù„ÙŠ';

      document.getElementById('wizardStepLabel').textContent =
        `Ø§Ù„Ø®Ø·ÙˆØ© ${step} Ù…Ù† ${maxStepExperimental} (Ù…Ø±Ø­Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©)`;
    }

    function nextStep() {
      if (currentStep < maxStepExperimental) {
        goToStep(currentStep + 1);
      } else {
        // Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹: Ø­ÙØ¸ Ø¥Ù„Ù‰ Google Sheet
        alert('Ø³ÙŠØªÙ… ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ Ø¥Ù„Ù‰ Google Sheet ÙˆØ±Ø¨Ø·Ù‡Ø§ Ø¨Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØºÙ„Ø§Ù.');
      }
    }

    function prevStep() {
      if (currentStep > 1) {
        goToStep(currentStep - 1);
      }
    }

    function addPhaseRow() {
      const tbody = document.querySelector('#phasesTable tbody');
      const rowCount = tbody.rows.length + 1;
      const tr = document.createElement('tr');

      tr.innerHTML = `
        <td>${rowCount}</td>
        <td><input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø­Ù„Ø©" /></td>
        <td><input type="text" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ±" /></td>
        <td><input type="date" /></td>
        <td><input type="date" /></td>
        <td><button type="button" class="secondary-btn" onclick="deletePhaseRow(this)">âœ•</button></td>
      `;
      tbody.appendChild(tr);
    }

    function deletePhaseRow(btn) {
      const row = btn.closest('tr');
      row.remove();
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±Ù‚ÙŠÙ… Ø§Ù„ØµÙÙˆÙ
      document.querySelectorAll('#phasesTable tbody tr').forEach((tr, idx) => {
        tr.cells[0].textContent = idx + 1;
      });
    }
     <script>
    // Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Wizard
    let currentStep = 1;
    const maxStepExperimental = 8;

    // Ø±Ø¨Ø· Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø§Ù„ØºÙ„Ø§Ù Ù…Ø¨Ø§Ø´Ø±Ø©
    document.addEventListener("DOMContentLoaded", () => {
      const titleInput = document.getElementById("pTitle");
      const clientInput = document.getElementById("pClient");
      const refInput = document.getElementById("pRef");
      const closingInput = document.getElementById("pClosing");
      const durationInput = document.getElementById("pDuration");
      const platformSelect = document.getElementById("pPlatform");

      function updateCover() {
        if (titleInput) document.getElementById("coverProjectTitle").textContent = titleInput.value || "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹";
        if (clientInput) document.getElementById("coverClient").innerHTML =
          `Ù…Ù‚Ø¯Ù… Ø¥Ù„Ù‰: <strong>${clientInput.value || "Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø©"}</strong>`;
        if (refInput) document.getElementById("coverRef").textContent = refInput.value || "â€”";
        if (closingInput) document.getElementById("coverClosing").textContent = closingInput.value || "â€”";
        if (durationInput) document.getElementById("coverDuration").textContent =
          (durationInput.value ? durationInput.value + " Ø´Ù‡Ø±Ù‹Ø§" : "â€”");
        if (platformSelect) document.getElementById("coverPlatform").textContent =
          platformSelect.value || "â€”";
      }

      [titleInput, clientInput, refInput, closingInput, durationInput, platformSelect].forEach(el => {
        if (el) el.addEventListener("input", updateCover);
        if (el && el.tagName === "SELECT") el.addEventListener("change", updateCover);
      });

      updateCover(); // ØªØ´ØºÙŠÙ„ Ù…Ø¨Ø¯Ø¦ÙŠ
    });

    function showView(view) {
      document.getElementById('dashboardView').classList.remove('active');
      document.getElementById('wizardView').classList.remove('active');

      if (view === 'dashboard') {
        document.getElementById('dashboardView').classList.add('active');
      } else if (view === 'wizard') {
        document.getElementById('wizardView').classList.add('active');
      }
    }

    function startNewProposal() {
      showView('wizard');
      goToStep(1);
    }

    function goToStep(step) {
      if (step < 1 || step > maxStepExperimental) return;
      currentStep = step;

      document.querySelectorAll('.wizard-step-panel').forEach(panel => {
        const s = Number(panel.getAttribute('data-step-panel'));
        panel.style.display = (s === step) ? 'block' : 'none';
      });

      document.querySelectorAll('.wizard-step-chip').forEach(chip => {
        const s = Number(chip.getAttribute('data-step'));
        chip.classList.toggle('active', s === step);
      });

      document.getElementById('prevBtn').disabled = (step === 1);
      document.getElementById('nextBtn').textContent =
        (step === maxStepExperimental) ? 'Ø­ÙØ¸ (Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©)' : 'Ø§Ù„ØªØ§Ù„ÙŠ';

      document.getElementById('wizardStepLabel').textContent =
        `Ø§Ù„Ø®Ø·ÙˆØ© ${step} Ù…Ù† ${maxStepExperimental} (Ù…Ø±Ø­Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©)`;
    }

    function nextStep() {
      if (currentStep < maxStepExperimental) {
        goToStep(currentStep + 1);
      } else {
        alert('Ø³ÙŠØªÙ… ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠ Ø¥Ù„Ù‰ Google Sheet ÙˆØ±Ø¨Ø·Ù‡Ø§ Ø¨Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØºÙ„Ø§Ù.');
      }
    }

    function prevStep() {
      if (currentStep > 1) {
        goToStep(currentStep - 1);
      }
    }

    function addPhaseRow() {
      const tbody = document.querySelector('#phasesTable tbody');
      const rowCount = tbody.rows.length + 1;
      const tr = document.createElement('tr');

      tr.innerHTML = `
        <td>${rowCount}</td>
        <td><input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø­Ù„Ø©" /></td>
        <td><input type="text" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ±" /></td>
        <td><input type="date" /></td>
        <td><input type="date" /></td>
        <td><button type="button" class="secondary-btn" onclick="deletePhaseRow(this)">âœ•</button></td>
      `;
      tbody.appendChild(tr);
    }

    function deletePhaseRow(btn) {
      const row = btn.closest('tr');
      row.remove();
      document.querySelectorAll('#phasesTable tbody tr').forEach((tr, idx) => {
        tr.cells[0].textContent = idx + 1;
      });
    }

    function generateGanttFromPhases() {
      const container = document.getElementById("ganttContainer");
      const rows = document.querySelectorAll("#phasesTable tbody tr");
      const phases = [];

      rows.forEach(row => {
        const name = row.cells[1].querySelector("input").value;
        const desc = row.cells[2].querySelector("input").value;
        const start = row.cells[3].querySelector("input").value;
        const end = row.cells[4].querySelector("input").value;

        if (name && start && end) {
          phases.push({ name, desc, start: new Date(start), end: new Date(end) });
        }
      });

      if (!phases.length) {
        container.innerHTML = `<p style="font-size:0.8rem; color:#b91c1c;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ÙˆØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ© Ù„Ù…Ø±Ø­Ù„Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.</p>`;
        return;
      }

      const minDate = new Date(Math.min(...phases.map(p => p.start.getTime())));
      const maxDate = new Date(Math.max(...phases.map(p => p.end.getTime())));
      const totalDays = Math.max(1, Math.round((maxDate - minDate) / (1000 * 60 * 60 * 24)));

      let html = `
        <div style="font-size:0.78rem; color:#4b5563; margin-bottom:6px;">
          Ù…Ù† ${minDate.toLocaleDateString("ar-SA")} Ø¥Ù„Ù‰ ${maxDate.toLocaleDateString("ar-SA")} (${totalDays} ÙŠÙˆÙ…ÙŠØ§Ù‹ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹)
        </div>
        <div style="display:flex; flex-direction:column; gap:4px;">
      `;

      phases.forEach((p, idx) => {
        const offsetDays = Math.round((p.start - minDate) / (1000 * 60 * 60 * 24));
        const phaseDays = Math.max(1, Math.round((p.end - p.start) / (1000 * 60 * 60 * 24)));
        const leftPercent = (offsetDays / totalDays) * 100;
        const widthPercent = (phaseDays / totalDays) * 100;

        html += `
          <div>
            <div style="display:flex; justify-content:space-between; font-size:0.78rem; margin-bottom:2px;">
              <span>${idx + 1}. ${p.name}</span>
              <span>${p.start.toLocaleDateString("ar-SA")} â†’ ${p.end.toLocaleDateString("ar-SA")}</span>
            </div>
            <div style="position:relative; height:18px; background:#e5e7eb; border-radius:999px; overflow:hidden;">
              <div style="
                position:absolute;
                inset-block:2px;
                inset-inline-start:${leftPercent}%;
                width:${widthPercent}%;
                min-width:6%;
                border-radius:999px;
                background:linear-gradient(90deg, var(--tilad-teal), var(--tilad-purple));
              "></div>
            </div>
          </div>
        `;
      });

      html += `</div>`;
      container.innerHTML = html;
    }

    async function loadExperienceProjects() {
      const container = document.getElementById("expProjectsContainer");
      container.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...";

      try {
        const sheetId = "SHEET_ID";
        const tab = "Experience_Projects";

        const url =
          `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json&sheet=${tab}`;

        const res = await fetch(url);
        const text = await res.text();
        const json = JSON.parse(text.substring(47, text.length - 2));

        let html = `
          <table class="proposal-table" style="margin-top:6px;">
            <thead>
              <tr>
                <th>Ø§Ø®ØªÙŠØ§Ø±</th>
                <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</th>
                <th>Ø§Ù„Ø¬Ù‡Ø©</th>
                <th>Ø§Ù„Ø³Ù†Ø©</th>
                <th>Ø§Ù„ÙˆØµÙ</th>
              </tr>
            </thead>
            <tbody>
        `;

        json.table.rows.forEach((r, i) => {
          const proj = r.c.map(c => c ? c.v : "");

          html += `
            <tr>
              <td><input type="checkbox" data-exp-index="${i}" /></td>
              <td>${proj[0]}</td>
              <td>${proj[1]}</td>
              <td>${proj[2]}</td>
              <td>${proj[3]}</td>
            </tr>
          `;
        });

        html += `</tbody></table>`;
        container.innerHTML = html;

      } catch (err) {
        container.innerHTML = `<span style="color:red;">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>`;
      }
    }

    async function loadTeamMembers() {
      const container = document.getElementById("teamMembersContainer");
      container.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...";

      try {
        const sheetId = "SHEET_ID";
        const tab = "Team_Members";

        const url =
          `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json&sheet=${tab}`;

        const res = await fetch(url);
        const text = await res.text();
        const json = JSON.parse(text.substring(47, text.length - 2));

        let html = `
          <table class="proposal-table" style="margin-top:6px;">
            <thead>
              <tr>
                <th>Ø§Ø®ØªÙŠØ§Ø±</th>
                <th>Ø§Ù„Ø§Ø³Ù…</th>
                <th>Ø§Ù„Ù…Ù†ØµØ¨</th>
                <th>Ø§Ù„Ø®Ø¨Ø±Ø© (Ø³Ù†Ø©)</th>
                <th>Ù…Ø¤Ù‡Ù„Ø§Øª</th>
              </tr>
            </thead>
            <tbody>
        `;

        json.table.rows.forEach((r, i) => {
          const m = r.c.map(c => c ? c.v : "");

          html += `
            <tr>
              <td><input type="checkbox" data-team-index="${i}" /></td>
              <td>${m[0]}</td>
              <td>${m[1]}</td>
              <td>${m[2]}</td>
              <td>${m[3]}</td>
            </tr>
          `;
        });

        html += `</tbody></table>`;
        container.innerHTML = html;

      } catch (err) {
        container.innerHTML = `<span style="color:red;">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙŠÙ‚</span>`;
      }
    }

    async function loadCompanyDocs() {
      const container = document.getElementById("docsContainer");
      container.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...";

      try {
        const sheetId = "SHEET_ID";
        const tab = "Company_Docs";

        const url =
          `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json&sheet=${tab}`;

        const res = await fetch(url);
        const text = await res.text();
        const json = JSON.parse(text.substring(47, text.length - 2));

        let html = `
          <table class="proposal-table" style="margin-top:6px;">
            <thead>
              <tr>
                <th>Ø§Ø®ØªÙŠØ§Ø±</th>
                <th>Ø§Ø³Ù… Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</th>
                <th>Ø§Ù„Ù†ÙˆØ¹</th>
                <th>Ø§Ù„ÙˆØµÙ</th>
              </tr>
            </thead>
            <tbody>
        `;

        json.table.rows.forEach((r, i) => {
          const d = r.c.map(c => c ? c.v : "");

          html += `
            <tr>
              <td><input type="checkbox" data-doc-index="${i}" /></td>
              <td>${d[0]}</td>
              <td>${d[1]}</td>
              <td>${d[2]}</td>
            </tr>
          `;
        });

        html += `</tbody></table>`;
        container.innerHTML = html;

      } catch (err) {
        container.innerHTML = `<span style="color:red;">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</span>`;
      }
    }

    function generatePreview() {
      const title = document.getElementById("pTitle").value;
      const client = document.getElementById("pClient").value;
      const duration = document.getElementById("pDuration").value;

      const intro = document.getElementById("pIntro").value;
      const understanding = document.getElementById("pUnderstanding").value;
      const objectives = document.getElementById("pObjectives").value;
      const summary = document.getElementById("pExecSummary").value;

      const knowledgeTransfer = document.getElementById("knowledgeTransfer")?.value || "";
      const qualityPlan = document.getElementById("qualityPlan")?.value || "";
      const riskManagement = document.getElementById("riskManagement")?.value || "";

      const hsePolicy = document.getElementById("hsePolicy")?.value || "";
      const hseRisk = document.getElementById("hseRisk")?.value || "";
      const hsePlan = document.getElementById("hsePlan")?.value || "";

      const box = document.getElementById("reviewBox");

      box.innerHTML = `
        <h3 style="margin-top:0;">${title || "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"}</h3>
        <p><strong>Ø§Ù„Ø¬Ù‡Ø©:</strong> ${client || "â€”"}</p>
        <p><strong>Ù…Ø¯Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:</strong> ${duration ? duration + " Ø´Ù‡Ø±Ø§Ù‹" : "â€”"}</p>

        <hr/>

        <h4>Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</h4>
        <p>${intro || "<span style='color:#9ca3af;'>Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ù…Ù‚Ø¯Ù…Ø© Ø¨Ø¹Ø¯.</span>"}</p>

        <h4>Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ø§Ù… Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø¹Ù…Ù„</h4>
        <p>${understanding || "<span style='color:#9ca3af;'>Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ø§Ù… Ø¨Ø¹Ø¯.</span>"}</p>

        <h4>Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h4>
        <p>${objectives || "<span style='color:#9ca3af;'>Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø¨Ø¹Ø¯.</span>"}</p>

        <h4>Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ</h4>
        <p>${summary || "<span style='color:#9ca3af;'>Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ Ø¨Ø¹Ø¯.</span>"}</p>

        <hr/>

        <h4>Ø¢Ù„ÙŠØ© Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ©</h4>
        <p>${knowledgeTransfer || "<span style='color:#9ca3af;'>Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø¢Ù„ÙŠØ© Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø¨Ø¹Ø¯.</span>"}</p>

        <h4>Ø®Ø·Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</h4>
        <p>${qualityPlan || "<span style='color:#9ca3af;'>Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø®Ø·Ø© Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¨Ø¹Ø¯.</span>"}</p>

        <h4>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø± (ØºÙŠØ± Ø§Ù„Ø³Ù„Ø§Ù…Ø©)</h4>
        <p>${riskManagement || "<span style='color:#9ca3af;'>Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø®Ø·Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø¨Ø¹Ø¯.</span>"}</p>

        <hr/>

        <h4>Ø®Ø·Ø© Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„ØµØ­Ø© Ø§Ù„Ù…Ù‡Ù†ÙŠØ© (HSE)</h4>
        <p><strong>Ø§Ù„Ø³ÙŠØ§Ø³Ø©:</strong><br>${hsePolicy || "<span style='color:#9ca3af;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª.</span>"}</p>
        <p><strong>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø±:</strong><br>${hseRisk || "<span style='color:#9ca3af;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª.</span>"}</p>
        <p><strong>Ø®Ø·Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦:</strong><br>${hsePlan || "<span style='color:#9ca3af;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª.</span>"}</p>

        <p style="color:#6b7280; margin-top:10px;">
          Ø³ÙŠØªÙ… Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø®Øµ Ù„Ù„Ù…Ø±Ø§Ø­Ù„ØŒ Ø§Ù„Ø®Ø¨Ø±Ø§ØªØŒ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ØŒ ÙˆØ§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø¶Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©.
        </p>
      `;
    }

    // Ø¹Ø±Ø¶ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ø®Ø·ÙˆØ© Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
    const docUploadInput = document.getElementById("docUpload");
    if (docUploadInput) {
      docUploadInput.addEventListener("change", () => {
        const list = document.getElementById("localDocsList");
        list.innerHTML = "";
        Array.from(docUploadInput.files).forEach(f => {
          const li = document.createElement("li");
          li.textContent = "ğŸ“ " + f.name;
          list.appendChild(li);
        });
      });
    }

    function exportProposalPDF() {
      const cover = document.querySelector(".cover-a4");
      const review = document.getElementById("reviewBox");

      if (!cover || !review) {
        alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØµØ¯ÙŠØ±.");
        return;
      }

      const wrapper = document.createElement("div");
      wrapper.style.padding = "20px";
      wrapper.appendChild(cover.cloneNode(true));

      const separator = document.createElement("hr");
      separator.style.margin = "24px 0";
      wrapper.appendChild(separator);

      const reviewClone = review.cloneNode(true);
      wrapper.appendChild(reviewClone);

      const opt = {
        margin: 10,
        filename: 'Tilad_Technical_Proposal.pdf',
        image: { type: 'jpeg', quality: 0.95 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      };

      html2pdf().set(opt).from(wrapper).save();
    }
  </script>

  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-YcsIPVb9C1KZx2drXr/9YJ4BcC2pN4uCISEWvZ3p4SbRzczNlEGnsxW0t3z9zJrB1iRaYqZ7uW2kVj2r7Uq2Og==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
